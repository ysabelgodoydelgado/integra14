<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="view_form_move_inherited_binaural_facturacion_tree" model="ir.ui.view">
            <field name="name">Extension de listado factura: agregar campos</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_invoice_tree"/>
            <field name="arch" type="xml">
                <!--add nro control-->
                <field name="name" position="after">
                    <field name="correlative" optional="show"/>                   
                </field>
                <!--add vat,adress,bussines name-->
                <field name="partner_id" position="after">
                    <field name="vat" optional="show"/>
                    <field name="address" optional="show"/> 
                </field>
                <!--add date_reception-->
                <field name="invoice_date" position="after">
                    <field name="date_reception" optional="show"/>
		    <field name="date" string="Fecha Contable" optional="hide"/>
                </field>


	            <field name="amount_total_signed" position="before">
                    <field name="financial_document" attrs="{'invisible':[('move_type','not in',['out_refund','out_invoice'])]}" />
                    <field name="foreign_currency_rate" optional="show" />
                    <field name="foreign_currency_id" invisible="1" />
                    <field name="foreign_amount_total" optional="show" widget="monetary" options="{'currency_field': 'foreign_currency_id'}"/>
                </field>

            </field>
        </record>

	    <record id="action_move_out_contingence_type" model="ir.actions.act_window">
            <field name="name">Facturas contingencia</field>
            <field name="res_model">account.move</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="view_id" ref="account.view_invoice_tree"/>
            <field name="search_view_id" ref="account.view_account_invoice_filter"/>
            <field name="domain">[('move_type', '=', 'out_invoice'), ('is_contingence', '=', True)]</field>
            <field name="context">{'default_move_type': 'out_invoice', 'default_is_contingence': True}</field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Crear una factura de contingencia
              </p>
            </field>
        </record>

	    <menuitem id="menu_action_move_out_contingence_type" parent="account.menu_finance_receivables" action="action_move_out_contingence_type" sequence="3"/>
    </data>
</odoo>
